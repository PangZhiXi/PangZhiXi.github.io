{"version":3,"file":"js/359.09a8ecc4.js","mappings":"iLACOA,MAAM,mB,uIAAXC,EAAAA,EAAAA,IAsBM,MAtBN,EAsBM,EArBJC,EAAAA,EAAAA,IASiBC,EAAA,CARdC,SAAU,OACVC,WAAW,EACXC,YAAY,EACZC,cAAaC,EAAAA,aAJhB,CAMmB,aAASC,EAAAA,EAAAA,KACxB,IAAiE,EAAjEC,EAAAA,EAAAA,GAAiE,OAA3DC,IAAKC,EAAAA,WAAWC,KAAOC,QAAK,eAAEN,EAAAA,4BAApC,a,KAPJ,sBAWAN,EAAAA,EAAAA,IAAgEa,EAAA,CAAhDC,gBAAeR,EAAAA,iBAAe,6BAE9CN,EAAAA,EAAAA,IAISe,EAAA,CAHNC,WAAYN,EAAAA,WAAWO,KACvBC,UAAU,EACVC,KAAMT,EAAAA,UAHT,+B,oFCbGZ,MAAM,2B,GACLA,MAAM,sB,iBAgCHA,MAAM,iC,GAELA,MAAM,4B,iBAOHA,MAAM,yC,GAULA,MAAM,+CAENW,IAAAW,EACAC,IAAI,GACJC,OAAO,I,0CAxDrBvB,EAAAA,EAAAA,IAqEM,MArEN,EAqEM,EApEJS,EAAAA,EAAAA,GA6BK,KA7BL,EA6BK,gBA5BHT,EAAAA,EAAAA,IA2BKwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAzBqBC,EAAAA,aAAW,CAA3BC,EAAMC,M,WAFhB5B,EAAAA,EAAAA,IA2BK,MA1BHD,MAAM,qBAEL8B,IAAKD,GAHR,EAKEnB,EAAAA,EAAAA,GAqBI,KApBFV,MAAM,6BACLc,QAAK,GAAEN,EAAAA,mBAAmBoB,EAAMC,IAFnC,EAIEnB,EAAAA,EAAAA,GAOC,QANCV,OAAK,SAAC,kCAAiC,C,yCAC2C2B,EAAAA,aAAaI,KAAOH,EAAKG,QAF7G,QAMMH,EAAKI,MAAI,GAIPJ,EAAKK,KAAKC,OAAM,eAFxBjC,EAAAA,EAAAA,IAQQ,Q,MAPND,OAAK,SAAC,yCAAwC,CAEtB2B,EAAAA,kBAAoBA,EAAAA,aAAaI,KAAOH,EAAKG,GAA7C,qFAH1B,0BAZF,UALF,SA6BF7B,EAAAA,EAAAA,IA+BaiC,EAAAA,GAAA,CA/BDH,KAAK,eAAa,C,kBAE5B,IA4BM,WA5BNtB,EAAAA,EAAAA,GA4BM,MA5BN,EA4BM,EA1BJA,EAAAA,EAAAA,GAyBK,KAzBL,EAyBK,gBAxBHT,EAAAA,EAAAA,IAuBKwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArBqBC,EAAAA,aAAaM,MAAI,CAAjCL,EAAMC,M,WAFhB5B,EAAAA,EAAAA,IAuBK,MAtBHD,MAAM,gCAEL8B,IAAKD,EACLf,QAAK,GAAEN,EAAAA,sBAAsBoB,EAAMC,IAJtC,EAMEnB,EAAAA,EAAAA,GAgBI,IAhBJ,EAgBI,EAfFA,EAAAA,EAAAA,GAOC,QANCV,OAAK,SAAC,6CAA4C,C,oDACmD2B,EAAAA,aAAaI,KAAOH,EAAKG,QAFhI,QAMMH,EAAKI,MAAI,IASb,SAPFtB,EAAAA,EAAAA,GAME,MANF,EAME,iBAJQiB,EAAAA,aAAaI,KAAOH,EAAKG,SAjBvC,iBAHJ,YAAmDJ,EAAAA,uB,OAoCjD,SALJjB,EAAAA,EAAAA,GAIO,OAHLV,MAAM,QAELc,QAAK,eAAEa,EAAAA,kBAAgB,IAH1B,iBAEUA,EAAAA,qB,CAQd,OACES,KAAM,WACJ,MAAO,CAELC,YAAa,CACX,CACEN,GAAI,IACJC,KAAM,KACNC,KAAM,CACJ,CACEF,GAAI,IACJC,KAAM,MAER,CACED,GAAI,MACJC,KAAM,UAER,CACED,GAAI,MACJC,KAAM,YAIZ,CACED,GAAI,IACJC,KAAM,OACNC,KAAM,IAER,CACEF,GAAI,IACJC,KAAM,OACNC,KAAM,KAIVK,aAAc,CAAC,EAEfC,kBAAkB,EAErB,EACDC,QAAS,WAEPC,KAAKH,aAAeG,KAAKJ,YAAY,EACtC,EACDK,QAAS,CAMPC,mBAAmBf,EAAMC,GAMnBY,KAAKF,kBAAoBE,KAAKH,eAAiBV,EACjDa,KAAKF,kBAAmB,EACfX,EAAKK,KAAKC,OAAS,EAC5BO,KAAKF,kBAAmB,EAExBE,KAAKF,kBAAmB,EAE1BE,KAAKH,aAAeV,CAIrB,EAKDgB,sBAAsBC,EAAShB,GAE7BY,KAAKH,aAAeO,EAGpBJ,KAAKJ,YAAYS,SAASC,IACxBA,EAAQd,KAAKa,SAASE,IAChBA,EAAWjB,KAAOc,EAAQd,KAC5BgB,EAAQhB,GAAKiB,EAAWjB,GACxBgB,EAAQf,KAAOgB,EAAWhB,KAC5B,GAJF,IASFS,KAAKF,kBAAmB,CACzB,GAEHU,MAAO,CAELX,aAAc,SAAUY,EAAUC,GAChCV,KAAKW,MAAM,gBAAiBF,EAC7B,I,UCnKL,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,UFqBA,GACErB,KAAM,YACNsB,WAAY,CACVC,cADU,IAEVC,aAFU,EAGVC,MAAKA,EAAAA,GAEPrB,OACE,MAAO,CAELsB,SAAU,IAEVC,eAAgB,CACd,CACExC,KAAM,IACNN,KAAM+C,EAAQ,OAEhB,CACEzC,KAAM,IACNN,KAAM+C,EAAQ,QAGlB1C,WAAY,CAAC,EAEhB,EACDsB,UACEC,KAAKvB,WAAauB,KAAKkB,eAAe,EACvC,EACDjB,QAAS,CAEPmB,cACEpB,KAAKqB,QAAQC,IAAI,EAClB,EAED/C,gBAAgBgD,GACdvB,KAAKiB,SAAWM,EAAOjC,EACxB,EAEDkC,0BAC+B,MAAzBxB,KAAKvB,WAAWC,KAClBsB,KAAKvB,WAAauB,KAAKkB,eAAe,GAEtClB,KAAKvB,WAAauB,KAAKkB,eAAe,EAEzC,IGnEL,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASO,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://jindon2/./src/views/GoodsList.vue","webpack://jindon2/./src/components/goods/GoodsOptions.vue","webpack://jindon2/./src/components/goods/GoodsOptions.vue?1653","webpack://jindon2/./src/views/GoodsList.vue?1f78"],"sourcesContent":["<template>\n  <div class=\"goods-list-page\">\n    <navigation-bar\n      :pageName=\"'商品列表'\"\n      :isDefault=\"true\"\n      :isShowBack=\"true\"\n      @onLeftClick=\"onBackClick\"\n    >\n      <template v-slot:nav-right>\n        <img :src=\"layoutType.icon\" @click=\"onChangeLayoutTypeClick()\" />\n      </template>\n    </navigation-bar>\n\n    <goods-options @optionsChange=\"onOptionsChange\"></goods-options>\n\n    <goods\n      :layoutType=\"layoutType.type\"\n      :isScroll=\"true\"\n      :sort=\"sortType\"\n    ></goods>\n\n    <!-- <div class=\"goods-list-page-content-goods\"  @scroll=\"onScrollChange\" ref=\"goodsListContent\">\n            </div> -->\n  </div>\n</template>\n\n<script>\nimport NavigationBar from \"@c/currency/NavigationBar.vue\";\nimport GoodsOptions from \"@c/goods/GoodsOptions.vue\";\nimport goods from \"@c/goods/Goods.vue\";\nexport default {\n  name: \"goodsList\",\n  components: {\n    NavigationBar,\n    GoodsOptions,\n    goods,\n  },\n  data() {\n    return {\n      //排列方式\n      sortType: \"1\",\n      //布局\n      layoutTypeDate: [\n        {\n          type: \"1\",\n          icon: require(\"@img/list-type.svg\"),\n        },\n        {\n          type: \"2\",\n          icon: require(\"@img/grid-type.svg\"),\n        },\n      ],\n      layoutType: {},\n    };\n  },\n  created() {\n    this.layoutType = this.layoutTypeDate[0];\n  },\n  methods: {\n    //后退按钮点击事件\n    onBackClick() {\n      this.$router.go(-1);\n    },\n    //排列方式\n    onOptionsChange(option) {\n      this.sortType = option.id;\n    },\n    //布局方式\n    onChangeLayoutTypeClick() {\n      if (this.layoutType.type === \"1\") {\n        this.layoutType = this.layoutTypeDate[1];\n      } else {\n        this.layoutType = this.layoutTypeDate[0];\n      }\n    },\n  },\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import \"@css/style.scss\";\n.goods-list-page {\n  position: absolute;\n\n  height: 100%;\n  width: 100%;\n  background-color: $bgColor;\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","<template>\n  <!-- 首选项 -->\n  <div class=\"goods-options z-index-2\">\n    <ul class=\"goods-options-list\">\n      <li\n        class=\"goods-options-item\"\n        v-for=\"(item, index) in optionsDate\"\n        :key=\"index\"\n      >\n        <a\n          class=\"goods-options-item-content\"\n          @click=\"onOptionsItemClick(item, index)\"\n        >\n          <span\n            class=\"goods-options-item-content-name\"\n            :class=\"{\n              'goods-options-item-content-name-active':\n                selectOption.id === item.id,\n            }\"\n            >{{ item.name }}</span\n          >\n          <span\n            class=\"goods-options-item-content-caret caret\"\n            v-if=\"item.subs.length > 0\"\n            :class=\"[\n              isShowSubContent && selectOption.id === item.id\n                ? 'goods-options-item-content-caret-open'\n                : 'goods-options-item-content-caret-close',\n            ]\"\n          ></span>\n        </a>\n      </li>\n    </ul>\n    <transition name=\"fold-height\">\n      <!-- 子选项 计算渲染 选中的首选项 的subs -->\n      <div class=\"options-sub-content z-index-2\" v-show=\"isShowSubContent\">\n        <!-- v-show 控制组件是否进行展示 -->\n        <ul class=\"options-sub-content-list\">\n          <li\n            class=\"options-sub-content-list-item\"\n            v-for=\"(item, index) in selectOption.subs\"\n            :key=\"index\"\n            @click=\"onSubOptionsItemClick(item, index)\"\n          >\n            <a class=\"options-sub-content-list-item-content\">\n              <span\n                class=\"options-sub-content-list-item-content-name\"\n                :class=\"{\n                  'options-sub-content-list-item-content-name-active':\n                    selectOption.id === item.id,\n                }\"\n                >{{ item.name }}</span\n              >\n              <img\n                class=\"options-sub-content-list-item-content-select\"\n                v-show=\"selectOption.id === item.id\"\n                src=\"@img/options-select.svg\"\n                alt=\"\"\n                srcset=\"\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </transition>\n    <!-- 遮盖图层 -->\n    <div\n      class=\"cover\"\n      v-show=\"isShowSubContent\"\n      @click=\"isShowSubContent = false\"\n    ></div>\n  </div>\n</template>\n\n\n<script>\nexport default {\n  data: function () {\n    return {\n      // 数据源，二级选项是一级选项的其中之一\n      optionsDate: [\n        {\n          id: \"1\",\n          name: \"默认\",\n          subs: [\n            {\n              id: \"1\",\n              name: \"默认\",\n            },\n            {\n              id: \"1-2\",\n              name: \"价格由高到低\",\n            },\n            {\n              id: \"1-3\",\n              name: \"销量由高到低\",\n            },\n          ],\n        },\n        {\n          id: \"2\",\n          name: \"有货优先\",\n          subs: [],\n        },\n        {\n          id: \"3\",\n          name: \"直营优先\",\n          subs: [],\n        },\n      ],\n      // 储存选中的筛选项\n      selectOption: {},\n      // 是否展开子筛选项\n      isShowSubContent: false,\n    };\n  },\n  created: function () {\n    // 设置初始选中项\n    this.selectOption = this.optionsDate[0];\n  },\n  methods: {\n    // 1、如果子选项视图处于展开状态，则关闭掉子选项视图\n    // 2、展示子选项视图\n    //      1、选中项包含子选项\n    //      2、当前筛选项处于选中状态\n    // 3、设置选中项为用户点击的选项\n    onOptionsItemClick(item, index) {\n      // 设置选中项为用户点击的选项\n\n      // 如果子选项视图处于展开状态，且选中此组件，则关闭掉子选项视图\n      //如果子选项视图处于展开状态，没有选中此组件，则选中组件\n      //如果子选项视图处于关闭状态，则判断并选中打开\n      if (this.isShowSubContent && this.selectOption === item) {\n        this.isShowSubContent = false;\n      } else if (item.subs.length > 0) {\n        this.isShowSubContent = true;\n      } else {\n        this.isShowSubContent = false;\n      }\n      this.selectOption = item;\n      // 1、选中项包含子选项\n      // 2、当前筛选项处于选中状态\n      // 展示子选项视图\n    },\n\n    // 1、设置选中项为用户点击的选项\n    // 2、将选中项置顶\n    // 3、关闭子选项视图\n    onSubOptionsItemClick(subItem, index) {\n      // 设置选中项为用户点击的选项\n      this.selectOption = subItem;\n\n      // 遍历所有的二级选项，等于储存选中的筛选项时，将二级选项放到一级选项\n      this.optionsDate.forEach((options) => {\n        options.subs.forEach((subOptions) => {\n          if (subOptions.id === subItem.id) {\n            options.id = subOptions.id;\n            options.name = subOptions.name;\n          }\n        });\n      });\n\n      // 关闭子选项视图\n      this.isShowSubContent = false;\n    },\n  },\n  watch: {\n    // 当选择项发生变化的时候，需要通知父组件\n    selectOption: function (newValue, oldValue) {\n      this.$emit(\"optionsChange\", newValue);\n    },\n  },\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import \"@css/style.scss\";\n.goods-options {\n  width: 100%;\n  border-bottom: 1px solid $lineColor;\n  //默认显示\n  &-list {\n    display: flex;\n    width: 100%;\n    height: $goodsOptionsHeight;\n    background-color: white;\n    .goods-options-item {\n      flex-grow: 1;\n\n      &-content {\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        &-name {\n          font-size: $infoSize;\n          margin-right: $marginSize;\n\n          &-active {\n            color: $mainColor;\n          }\n        }\n\n        // 子选项展开时，三角形的动画\n        &-caret {\n          &-open {\n            transform: rotate(-180deg);\n            transition: all 0.3s;\n          }\n\n          &-close {\n            transform: rotate(0deg);\n            transition: all 0.3s;\n          }\n        }\n      }\n    }\n  }\n\n  // 子选项内容区，\n  .options-sub-content {\n    // 脱离标准文档流\n    position: absolute;\n    width: 100%;\n    max-height: px2rem(180);\n    overflow: hidden;\n    overflow-y: auto;\n    background-color: white;\n    &-list {\n      &-item {\n        &-content {\n          display: flex;\n          align-items: center;\n          border-top: 1px solid $lineColor;\n          padding: $marginSize;\n          height: px2rem(44);\n          box-sizing: border-box;\n          &-name {\n            font-size: $infoSize;\n            display: inline-block;\n            flex-grow: 1;\n\n            &-active {\n              color: $mainColor;\n            }\n          }\n\n          &-select {\n            width: px2rem(18);\n            height: px2rem(18);\n          }\n        }\n      }\n    }\n  }\n\n  //子选项内容区展开动画，当 v-if=“true” 的时候调用，当子选项部分展开时，初始状态max-height为0，结束状态max-height为180\n  .fold-height-enter-active {\n    animation-duration: 0.3s;\n    animation-name: fold-height-open;\n  }\n\n  @keyframes fold-height-open {\n    0% {\n      max-height: 0;\n    }\n    100% {\n      max-height: px2rem(180);\n    }\n  }\n\n  //子选项内容区关闭动画，当 v-if=false 的时候调用，子选项部分关闭时，初始状态max-height为180，结束状态max-height为0\n  .fold-height-leave-active {\n    animation-duration: 0.3s;\n    animation-name: fold-height-close;\n  }\n\n  @keyframes fold-height-close {\n    0% {\n      max-height: px2rem(180);\n    }\n    100% {\n      max-height: 0;\n    }\n  }\n}\n</style>\n","import { render } from \"./GoodsOptions.vue?vue&type=template&id=cd65d45e&scoped=true\"\nimport script from \"./GoodsOptions.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsOptions.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsOptions.vue?vue&type=style&index=0&id=cd65d45e&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\BaiduNetdiskDownload\\\\vue项目 仿京东\\\\vue1.0\\\\jindon4\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cd65d45e\"]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=7ca7eb0a&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=7ca7eb0a&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\BaiduNetdiskDownload\\\\vue项目 仿京东\\\\vue1.0\\\\jindon4\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ca7eb0a\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_navigation_bar","pageName","isDefault","isShowBack","onOnLeftClick","$options","_withCtx","_createElementVNode","src","$data","icon","onClick","_component_goods_options","onOptionsChange","_component_goods","layoutType","type","isScroll","sort","_imports_0","alt","srcset","_Fragment","_renderList","_ctx","item","index","key","id","name","subs","length","_Transition","data","optionsDate","selectOption","isShowSubContent","created","this","methods","onOptionsItemClick","onSubOptionsItemClick","subItem","forEach","options","subOptions","watch","newValue","oldValue","$emit","__exports__","components","NavigationBar","GoodsOptions","goods","sortType","layoutTypeDate","require","onBackClick","$router","go","option","onChangeLayoutTypeClick","render"],"sourceRoot":""}